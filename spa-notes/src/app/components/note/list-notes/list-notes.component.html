<div class="sidenav-container">
  <mat-toolbar color="primary">
    <span>ユーザー管理</span>
  </mat-toolbar>
  <div fxLayout="column" class="form-container" fxLayoutAlign="space-around space-around" fxLayoutGap="5px">
    <div class="note-search-form-container">
      <!--inputs and buttons-->
      <div fxLayout="row" fxLayoutAlign="space-around" fxLayoutGap="25px">
        <!--search components-->
        <div fxFlex="65" class="note-search-inputs">
          <div fxLayout="column" fxLayoutAlign="space-around" fxLayoutGap="5px">
            <div fxFlex>
              <!--search component group row-->
              <div fxLayout="row" fxLayoutAlign="space-around" fxLayoutGap="20px">
                <div fxFlex="10%" fxLayoutAlign="center center">
                  <mat-icon class="material-icons">list</mat-icon>
                </div>
                <div fxFlex fxFlexFill>
                  <mat-form-field>
                    <mat-select placeholder="記事の属性" name="channel">
                      <mat-option value="1">ニュース</mat-option>
                      <mat-option value="2">技術ブログ</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div fxFlex>
              <div fxLayout="row" fxLayoutAlign="space-around" fxLayoutGap="20px">
                <div fxFlex="10%" fxLayoutAlign="center center">
                  <mat-icon class="material-icons">note_add</mat-icon>
                </div>
                <mat-form-field fxFlex>
                  <input matInput [matDatepicker]="noteIssuedFrom" placeholder="公開日(from)"
                         formControlName="issuedAtFrom">
                  <mat-datepicker-toggle matSuffix [for]="noteIssuedFrom"></mat-datepicker-toggle>
                  <mat-datepicker #noteIssuedFrom></mat-datepicker>
                </mat-form-field>
                <mat-form-field fxFlex>
                  <input matInput [matDatepicker]="noteIssuedTo" placeholder="公開日(to)"
                         formControlName="issuedAtTo">
                  <mat-datepicker-toggle matSuffix [for]="noteIssuedTo"></mat-datepicker-toggle>
                  <mat-datepicker #noteIssuedTo></mat-datepicker>
                </mat-form-field>
                <div fxFlex="10%" fxLayoutAlign="center center">
                  <button mat-button color="default" fxLayoutAlign="center center">
                    <mat-icon aria-label="公開日をクリア">clear</mat-icon>
                    <span>クリア</span>
                  </button>
                </div>
              </div>
            </div>
            <div fxFlex>
              <div fxLayout="row" fxLayoutAlign="space-around" fxLayoutGap="20px">
                <div fxFlex="10%" fxLayoutAlign="center center">
                  <mat-icon class="material-icons">update</mat-icon>
                </div>
                <mat-form-field fxFlex>
                  <input matInput [matDatepicker]="noteUpdatedFrom" placeholder="更新日(from)"
                         formControlName="updatedAtFrom">
                  <mat-datepicker-toggle matSuffix [for]="noteUpdatedFrom"></mat-datepicker-toggle>
                  <mat-datepicker #noteUpdatedFrom></mat-datepicker>
                </mat-form-field>
                <mat-form-field fxFlex>
                  <input matInput [matDatepicker]="noteUpdatedTo" placeholder="更新日(to)"
                         formControlName="updatedAtTo">
                  <mat-datepicker-toggle matSuffix [for]="noteUpdatedTo"></mat-datepicker-toggle>
                  <mat-datepicker #noteUpdatedTo></mat-datepicker>
                </mat-form-field>
                <div fxFlex="10%" fxLayoutAlign="center center">
                  <button mat-button color="default" fxLayoutAlign="center center">
                    <mat-icon aria-label="更新日をクリア">clear</mat-icon>
                    <span>クリア</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div fxFlex="35" class="note-search-buttons">
          <div fxLayout="column" fxFlexFill>
            <div fxFlex="33"></div>
            <div fxFlex>
              <div fxLayout="row" fxFlexFill fxLayoutAlign="space-around space-around" fxLayoutGap="20px">
                <div fxFlex="45" fxFlexFill fxLayoutAlign="center center">
                  <button fxFlexFill mat-raised-button color="default" (click)="init()">
                    検索する
                  </button>
                </div>
                <div fxFlex="45" fxFlexFill fxLayoutAlign="center center">
                  <button fxFlexFill fxLayoutAlign="center center" mat-raised-button
                          color="warn">
                    <span>一括JSONエクスポート</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div fxFlex class="note-master-content">
      <!-- search and result-->
      <div fxLayout="column" fxLayoutAlign="space-around space-around" fxLayoutGap="5px">
        <div fxFlex class="result-table-container">
          <div>
            <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
          </div>
          <div fxFlexFill class="mat-elevation-z8">
            <table fxFlexFill mat-table [dataSource]="displayUsers">


              <ng-container matColumnDef="displayUserName">
                <th mat-header-cell *matHeaderCellDef>著者</th>
                <td mat-cell *matCellDef="let element"> {{element.displayUserName || '-'}}</td>
              </ng-container>

              <ng-container matColumnDef="company">
                <th mat-header-cell *matHeaderCellDef>記事タイトル</th>
                <td mat-cell *matCellDef="let element"> {{element.company || '-'}}</td>
              </ng-container>


              <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef>作成日時</th>
                <td mat-cell *matCellDef="let element"> {{toJst(element.createdAt) || '-'}}</td>
              </ng-container>

              <ng-container matColumnDef="updatedAt">
                <th mat-header-cell *matHeaderCellDef>更新日時</th>
                <td mat-cell *matCellDef="let element"> {{toJst(element.updatedAt) || '-'}}</td>
              </ng-container>

              <!-- Edit Column -->

              <!-- Delete Column -->

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <div *ngIf="lastEvaluatedKey" fxFlexFill fxLayoutAlign="center center">
              <button fxFlexFill mat-button color="basic" (click)="getUsers(lastEvaluatedKey)">
                <mat-icon>expand_more</mat-icon>
                さらに読み込む
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
